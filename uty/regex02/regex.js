$(document).ready(function(){var a=function(){var c=new regexChecker();c.sbj=$("#txt_target").val();c.ptn=$("#txt_pattern").val();c.rplc=$("#txt_replace").val();c.opt_m=$("#opt_m").attr("checked")=="checked"?$("#opt_m").val():"";c.opt_g=$("#opt_g").attr("checked")=="checked"?$("#opt_g").val():"";c.opt_i=$("#opt_i").attr("checked")=="checked"?$("#opt_i").val():"";var d;if(c.sbj!=""&c.ptn!=""){try{d=c.isMatch();$("#msg_pattern").text("")}catch(b){$("#msg_pattern").text("パターン構文にエラーがあります。");d=htmlEscape($("#txt_target").val())}}else{d=htmlEscape($("#txt_target").val())}d=d.replace(/(\n|\r)/g,"<br>");d=d.replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;");$("#txt_result").html(d)};$("#txt_target").keyup(a);$("#txt_pattern").keyup(a);$("#txt_replace").keyup(a);$("#opt_i").change(a);$("#opt_m").change(a);$("#opt_g").change(a);$("#txt_result").css("white-space","nowrap");$("#btn-clear").click(function(){$("#txt_target").val("");$("#txt_pattern").val("");$("#txt_replace").val("");$("#txt_result").text("")})});$(function(){$("#sec_rsz").mouseover(function(a){$(this).css("cursor","s-resize")});$("#sec_rsz").mouseout(function(a){$(this).css("cursor","default")}).mousedown(function(a){$(this).css("cursor","s-resize");$(document).mousemove(function(b){$("#txt_result").height(b.pageY-$("#txt_result").offset().top-5)})});$(document).mouseup(function(a){$(document).unbind("mousemove")});$("#chk_wrap").click(function(){if($("#chk_wrap").attr("checked")){$("#txt_result").css("white-space","normal")}else{$("#txt_result").css("white-space","nowrap")}})});var regexChecker=function(){this.sbj;this.ptn;this.rplc;this.opt_m;this.opt_g;this.opt_i};regexChecker.prototype={isMatch:function(){try{var a="";var f=this.sbj;var b=this.opt_i+this.opt_g+this.opt_m;var d=new RegExp(this.ptn,b);if(this.rplc){a=f.replace(d,"@@@_match_start@@@"+this.rplc+"@@@_match_end@@@")}else{a=f.replace(d,"@@@_match_start@@@$&@@@_match_end@@@")}a=htmlEscape(a);a=a.replace(/ /g,"&nbsp;");a=a.replace(/@@@_match_start@@@/g,'<span class="regex_match">');a=a.replace(/@@@_match_end@@@/g,"</span>")}catch(c){throw c}return a}};function htmlEscape(b){var a=b;if(a){a=a.replace(/&/g,"&amp;");a=a.replace(/</g,"&lt;");a=a.replace(/>/g,"&gt;");a=a.replace(/"/g,"&quot;");a=a.replace(/'/g,"&#39;")}return a};